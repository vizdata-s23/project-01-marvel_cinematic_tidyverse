---
title: "Are You Board Yet?"
subtitle: "STA/ISS 313 - Project 1"
author: "Marvel Cinematic Tidyverse"
format: html
editor: visual
---

## Abstract

(1 paragraph): Project abstract.

------------------------------------------------------------------------

```{r}
#| label: load-packages
#| include: false

library(tidyverse)

```

```{r}
#| label: load-data
#| include: false
#| message : false

ratings <- readr::read_csv('data/ratings.csv')
details <- readr::read_csv('data/details.csv')
comprehensive <- full_join(details, ratings, by = "id") |>
  filter(owned > 500) |>
  select(-num.x, -num.y, -year, -name)
```

## Introduction

The Board Games Tidy Tuesday dataset, published on January 25th, 2022, was originally collected from [Kaggle](https://www.kaggle.com/datasets/jvanelteren/boardgamegeek-reviews?select=2022-01-08.csv). It combines board game descriptions and reviews from [Board Game Geek](https://www.boardgamegeek.com/), which is an online community for board gaming hobbyists.

With `r nrow(comprehensive)` board games, the data set includes `r ncol(comprehensive)` characteristics: `r names(comprehensive)`.

## Question 1: Title that relates to the question you're answering

### Introduction

(1-2 paragraphs): Introduction to the question and what parts of the data set are necessary to answer the question. Also discuss why you're interested in this question.

Do games with larger differentials in player counts (e.g. can support a wider range of players) tend to be more highly rated?

This first question of interest will utilize the variables in the data set that represent the minimum number of players, maximum numbers of players, and average rating. We're interested in this question because we're curious whether games that accommodate for a wider number of people receive higher ratings generally or not. This could suggest that players enjoy and value the option to include more players in their game.

TO-DO: ADD PLOT 2 INTRO

### Approach

(1-2 paragraphs): Describe what types of plots you are going to make to address your question. For each plot, provide a clear explanation as to why this plot (e.g. boxplot, barplot, histogram, etc.) is best for providing the information you are asking about. The two plots should be of different types, and at least one of the two plots needs to use either color mapping or facets.

To address this question, the first plot we made visualizes how the rating changes as the differential between the maximum and minimum number of players increases. The differential is plotted on the x-axis and the rating is plotted on the y-axis. A scatterplot is most effective in displaying all the points in order to show the audience that majority of board games have differentials of around 0 to 5 players. We combined this with a line graph because incorporating a line connecting the average rating for each differential more clearly and immediately suggests the lack of relationship between the variables of interest.

We also created a heatmap to visualize the average rating of a game based on both the minimum and maximum number of players. The minimum number of players is plotted on the y axis and the maximum number of players is plotted on the x axis with the average rating as the fill for the heatmap. The darker red the fill, the higher the average rating was for the game at that coordinate. We zoomed into the map with limits of x = (0,12) and y = (0,5) because there was not much data beyond that range. The heatmap displays similar data to the scatterplot created before, but it is still useful to support our observations in the scatterplot. A heatmap allows us to visualize minimum players, maximum players, and the average rating without creating a differential variable. This way, we do not lose information about the maximum and minimum number of players, while still gleaning information about the interaction between the two.

### Analysis

(2-3 code blocks, 2 figures, text/code comments as needed): In this section, provide the code that generates your plots. Use scale functions to provide nice axis labels and guides. You are welcome to use theme functions to customize the appearance of your plot, but you are not required to do so. All plots must be made with **ggplot2**. Do not use base R or lattice plotting functions.

```{r}

#| label: fig-scatter-plot-question-1
#| warning: false

#data preparation 
#filter data for differentials between 0 and 25 
#create new variable for average rating for each differential 
comprehensive_q1 <- comprehensive |>
  mutate(
    differential = maxplayers-minplayers
  ) |>
  filter(differential >= 0 & differential < 25) |>
  group_by(differential) |>
  mutate(
    average_rating = mean(average)
  )

#plotting each differential and its average rating with a scatter plot 
#adding layer of a line that connects each average rating per differential 
ggplot(comprehensive_q1, aes(x=differential, y = average_rating)) +
    geom_jitter(
      colour = "gray",
      alpha = .6,
    aes(x=differential,
          y = average),
         show.legend = FALSE) +
    geom_line(
      linetype = 2,
      colour = "#FFCCCB"
      ) +
    geom_point(
      colour = "red"
    ) +
    scale_x_continuous(breaks = seq(0,25,5), minor_breaks = c(0:25)) +
    scale_y_continuous(breaks = seq(2,10,1), minor_breaks = seq(2,10,.5)) +
    labs(
      x = "Differential",
      y = "Rating",
      title = "Average Rating as Differential Increases ",
      subtitle = "Suggests Minimal Relationship") +
    theme_minimal()

```

```{r}
#| label: heat-map-question-1
#| echo: false
#| warning: false

comprehensive_heat <- comprehensive |>
  filter(maxplayers <50)

p <- ggplot(comprehensive_heat, aes(x=maxplayers, y = minplayers, fill = average)) +
  geom_tile() + scale_fill_gradient(low = "white", high = "red")+
  labs(title = "Average Rating Based on Min and Max Players", x = "Minimum Number of Players", y = "Maximum Number of Players", fill = "Average Rating") + 
  theme_grey() + 
  guides(fill = guide_colourbar(barwidth = 0.5, barheight = 8)) +
  coord_cartesian(ylim = c(0,5), xlim=c(0,12))

p
```

### Discussion

(1-3 paragraphs): In the Discussion section, interpret the results of your analysis. Identify any trends revealed (or not revealed) by the plots. Speculate about why the data looks the way it does.

From the first plot, the red line that connects the average ratings suggests that there is a minimal relationship between the differential of players and the board game's rating. This is surprising to us because we had initially believed that games that can incorporate a wider range of people would be more popular, since you would be able to play it in a greater variety of scenarios (with more or less players). Similarily, we noticed in the dataset that games with larger differentials were commonly classified as party games or trivia games, which we also speculated may increase their rating. We can see that the number of board game observations decreases as the differential increases, so this can explain why the trend line is less consistent as the differential increases. We speculate that there are less games that have greater differentials in general, so that is reflected in this dataset.

TO-DO: ADD PLOT 2 DISCUSSION

## Question 2: Title that relates to the question you're answering

### Introduction

(1-2 paragraphs): Introduction to the question and what parts of the dataset are necessary to answer the question. Also discuss why you're interested in this question.

How have the number of expansions for board games changed over time, and have they had an impact on game ownership count?

TO-DO: ADD Q2 INTRO

### Approach

(1-2 paragraphs): Describe what types of plots you are going to make to address your question. For each plot, provide a clear explanation as to why this plot (e.g. boxplot, barplot, histogram, etc.) is best for providing the information you are asking about. The two plots should be of different types, and at least one of the two plots needs to use either color mapping or facets.

TO-DO:

### Analysis

(2-3 code blocks, 2 figures, text/code comments as needed): In this section, provide the code that generates your plots. Use scale functions to provide nice axis labels and guides. You are welcome to use theme functions to customize the appearance of your plot, but you are not required to do so. All plots must be made with **ggplot2**. Do not use base R or lattice plotting functions.

TO-DO:

### Discussion

(1-3 paragraphs): In the Discussion section, interpret the results of your analysis. Identify any trends revealed (or not revealed) by the plots. Speculate about why the data looks the way it does.

TO-DO:
